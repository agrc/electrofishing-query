<!DOCTYPE html>
<html>

<head>
    <title>AutoCompleteFilter Tests</title>

    <!-- META TAGS -->
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

    <!-- CSS -->
    <link rel="stylesheet" href="../../../app/resources/App.css">
    <style type='text/css'>
        body {
            padding: 50px;
            width: 450px;
        }
    </style>

    <!-- JAVASCRIPT -->
    <script type='text/javascript' src="../../../dojo/dojo.js"></script>
    <script type='text/javascript' src='../../packages.js'></script>
    <script type='text/javascript' src="../../../jquery/dist/jquery.js"></script>
    <script type="text/javascript">
        window.widgetUnderTest;

        require({
            baseUrl: window.location.pathname.replace(/\/[^\/]+$/, '') + '/' + '../../../'
        }, [
            'app/config',
            'app/filters/AutoCompleteFilter',

            'dojo/domReady!'
        ], function (config, Module) {
            widgetUnderTest = new Module({
                name: 'Location'
            }, 'node');

            widgetUnderTest.startup();
            widgetUnderTest.open();
        });

        window.showQuery = () => {
            document.getElementById('queryContainer').innerHTML = widgetUnderTest.getQuery().where;
        };
    </script>
</head>

<body>
    <div id="node"></div>
    <button onclick="showQuery()">Get Query</button>
    <button onclick="widgetUnderTest.clear()">Clear</button>
    <div id="queryContainer" style="font-family: Courier, monospace"></div>
</body>

</html>
